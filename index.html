<!--
  Client
  1. Mobile resizing - make everything fit
  2. Allow channels to be changed (with background color)
  3. Movement animation, something like https://codepen.io/akashnimare/pen/DojEdg

  Server
  1. Everything!
-->

<html>
  <head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Berkshire+Swash&family=Arvo&display=swap');

      body {
        margin: 0;
      }

      h1 {
        color: #d39a00;
        font-size: 30px;
        font-family: 'Berkshire Swash', cursive;
        text-shadow: 1px 1px #ff820038;
        margin: 0;
      }

      #page {
        background: radial-gradient(circle at center, #f7f3ea 37%, #f8e4ab);
        display: flex;
        justify-content: center;
        height: 100%;
      }

      #content {
        text-align: center;
        justify-content: center;
        display: flex;
        flex-direction: column;
        flex: 1;
        max-width: 362px;
        margin: 25px;
      }

      p {
        font-family: 'Arvo';
        color: #d39a00;
        margin-top: 6px;
      }

      .radio-controls {
        display: flex;
        justify-content: center;
      }

      .radio-control {
        font-size: 28px;
        padding: 25px;
        margin: 0 15px;
        user-select: none;
        /* border-radius: 50%;
        box-shadow: 0px 1px 6px #efae00; */
      }
      .radio-control:hover {cursor: pointer;}
    </style>
  </head>

  <body>
    <div id='page'>
      <div id='content'>
        <h1>BackTogether.FM</h1>
        <p>
          A public silent disco with your own earphones.
          Made by <a href='https://github.com/rubyonrials' target='_blank'>Matt</a>.
        </p>

        <div class='radio-controls'>
          <div id='channel-up' class='radio-control' style='visibility:hidden;'></div>
          <div id='play' class='radio-control'>‚ñ∂Ô∏è</div>
          <div id='pause' class='radio-control' style='display:none;'>‚è∏</div>
          <div id='channel-down' class='radio-control' style='visibility:hidden;'></div>
        </div>
      </div>
    </div>

    <script>
      const channelButtons = [null,'üî¥','üü¢','üîµ'];
      const channelColors = [null, '#dc322f', '#429900', '#268bd2'];
      var currentChannel = Math.floor(Math.random() * 3) + 1;
      console.log(currentChannel);
      var channelUp, channelDown;
      if (currentChannel == 1) {
        channelUp = 2;
        channelDown = 3;
      } else if (currentChannel == 2) {
        channelUp = 3;
        channelDown = 1;
      } else {
        channelUp = 1;
        channelDown = 2;
      }

      document.getElementById("play").addEventListener("click", play);
      document.getElementById("pause").addEventListener("click", pause);

      function play() {
        document.getElementById("page").style.background = `radial-gradient(circle at center, #f7f3ea 37%, ${channelColors[currentChannel]} 73%)`;

        document.getElementById("play").style.display = 'none';
        document.getElementById("pause").style.display = 'block';

        document.getElementById("channel-up").innerHTML = channelButtons[channelUp];
        document.getElementById("channel-up").style.visibility = 'visible';

        document.getElementById("channel-down").innerHTML = channelButtons[channelDown];
        document.getElementById("channel-down").style.visibility = 'visible';
      }

      function pause() {
        document.getElementById("pause").style.display = 'none';
        document.getElementById("play").style.display = 'block';
      }
    </script>
  </body>
</html>
